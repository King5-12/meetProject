# 聊天系统

项目地址：
[前端](https://github.com/King5-12/meetProject)
[后端](https://github.com/King5-12/meetprojectback)

### 技术方案

__前端__ 采用 __umi__ 框架，搭建以及路由控制非常方便，并且可扩展性强。

__后端__ 采用 __koa__ 框架，轻量，简单。
为了实现聊天的功能实现，与前端交互采用 __websocket__。

__数据库__ 采用 __sqlite__，操作简单，轻量，不需要服务只需要相应的驱动。

### 功能模块
注册、登录、群体聊天室、脏词过滤 (缺失单元测试)

### 关键算法
DFA算法 实现脏词过滤的判断。

### 使用说明
1. 进行账户注册。
2. 注册成功后会回到登陆页面，在进行登录。
3. 登录成功后会直接进入到聊天室，可以进行聊天。

### 部署说明
最开始计划：
- 前端使用github page，当我提交代码时利用workflow 在push的同时自动化进行前端页面的部署。
- 后端利用自己的阿里云服务器，当我代码进行push时在ci阶段通知到我服务器中的一个监听服务，我的监听服务在进行最新代码的拉去以及docker镜像的打包和发布。

中途的问题以及解决：
- 前端github page中访问到我的服务需要ssl证书，暂时没有申请，由于时间原因也暂时放弃，最终部署在自己的服务器中。本身计划利用ngix进行打包后的代理，但由于我的服务器时 CentOS 8.5 在开始的环境配置时有许多和原来兼容性的问题（主要时yum下载时源的问题和ngix安装上 gcc编译编译问题），在处理这些问题上浪费了大量时间。
- 后端也是由于时间原因并没有完成docker 镜像的打包和部署。

最终落地：
- 由于上述问题的暂时没有解决，最终都还是在服务器上进行node命令启动。

### 性能指标和扩展
1. 后端服务器暂时都没有进行压测，具体性能不清楚。

2. 前端页面后续可在部署上进行浏览器缓存以及cdn静态资源的缓存设置在网络上进行优化。运行时的内存由于本身功能不多，并没有做针对性处理。

3. 后续可以在产品上增加单对单以及多个群聊组织的功能，现在只有一个统一的聊天室。

### 第三方库

__umi__：路由方便、功能强大。

__antd__ :ui组件。

__koa__: 简单、轻量、中间件模式，可扩展性强。

__sqlite3__: 驱动sqlite数据库，简单、轻量

__socket.io__: 进行websocket通信，实现前后端的全双工通信，进而实现聊天室的功能。

### 最终耗时
由于本人自身的假期安排，大概在5.4号的下午三点过开始进行开发，直到晚上十二点左右结束。中间也有大概一两个小时的休息以及吃饭时间。


